$(document).ready((function(){let o=null;$("#fechaInicio, #fechaFin").on("change",(function(){!function(){const t=$("#fechaInicio").val(),e=$("#fechaFin").val();t&&e&&$.ajax({url:"../../controller/filterAnalytics.php",type:"POST",data:{dateStart:t,dateEnd:e},dataType:"json",success:function(t){if(t.error)return void console.error("Error:",t.error);console.log("Datos recibidos:",t);const e=t.map((o=>o.nombreRutina)),a=t.map((o=>parseFloat(o.totalLikes)));console.log("Etiquetas:",e),console.log("Datos:",a);const n=document.getElementById("myChart").getContext("2d");o&&o.destroy(),o=new Chart(n,{type:"bar",data:{labels:e,datasets:[{label:"# de Likes",data:a,backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{left:10,right:10,top:10,bottom:10}},scales:{x:{beginAtZero:!0,ticks:{autoSkip:!0,maxRotation:45,minRotation:45}},y:{beginAtZero:!0}}}})},error:function(o,t,e){console.error("Error en la solicitud:",e)}})}()}))}));